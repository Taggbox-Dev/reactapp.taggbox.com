(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[2009],{4962:function(e,t,a){"use strict";a.r(t);var o=a(15671),s=a(43144),n=a(97326),i=a(60136),r=a(29388),d=a(72791),c=a(74912),l=a.n(c),p=a(78687),u=a(92810),f=a(95316),m=a(62860),g=a(94111),h=a(80184),y="cloud.taggbox.com";l().config.update({accessKeyId:"47ABVORKG52UYE1KB28S",secretAccessKey:"pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v"});var b=new(l().S3)({robot:"/wasabi/store",params:{Bucket:y},region:"us-west-1",endpoint:"https://s3.us-west-1.wasabisys.com"});function w(e){for(var t=window.atob(e.split(",")[1]),a=[],o=0;o<t.length;o++)a.push(t.charCodeAt(o));return new Blob([new Uint8Array(a)],{type:"image/jpg"})}var v=function(e){(0,i.Z)(a,e);var t=(0,r.Z)(a);function a(){var e;(0,o.Z)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={newImage:null},e.handleClose=function(){e.props.editMediaCallback(!1)},e.onSaveData=function(t,a){var o=(0,n.Z)(e);if(t.imageBase64&&Object.keys(t).length>0){var s=w(t.imageBase64),i="onsiteupload/images/".concat((0,u.Z)(),".").concat(t.extension),r={ACL:"public-read",Body:s,Bucket:y,ContentType:"image/png",ContentEncoding:"base64",Key:i};b.upload(r).on("httpUploadProgress",(function(e){console.log("evt",Math.round(e.loaded/e.total*100)),100==Math.round(e.loaded/e.total*100)&&o.setState({newImage:"https://cloud.taggbox.com/".concat(i)},(function(){return o.onClickToPostEditIMage()}))})).send((function(e){e&&console.log(e)}))}},e.onClickToPostEditIMage=function(){var t=e.props.modalAssetData,a=e.state.newImage,o={action:"4",source:t.wallId,destination:t.wallId,postId:t.id,postFile:a||t.postFile,tags:t.tags,content:t.content};e.props.postPostUpdateAction(o,(function(){e.props.editMediaCallback(!1)}))},e}return(0,s.Z)(a,[{key:"render",value:function(){var e=this.props,t=e.editMediaModal,a=e.modalAssetData,o=e.editMediaCallback;return console.log("modalAssetData",a),(0,h.jsxs)(f.Z,{size:"full",show:t,className:"editMedia_modal border-0 p-0",backdrop:!1,onHide:o(!1),children:[(0,h.jsx)(f.Z.Header,{className:"border-0 p-0 w-100 border-bottom",closeButton:!0,children:(0,h.jsx)("div",{className:"d-flex justify-content-between align-items-center px-lg-3 px-2 bg-white w-100",children:(0,h.jsx)("div",{className:"d-flex align-items-center flex-wrap",children:(0,h.jsx)("h1",{className:"text-dark font-weight-bold mr-4 fs-6 mb-0",children:"Edit Image"})})})}),(0,h.jsx)(f.Z.Body,{className:"p-0 align-items-stretch justify-content-center",children:(0,h.jsx)(m.ZP,{className:"edit_asset_",source:a.postFile,theme:{palette:{"bg-primary":"#F4F5FA","accent-primary":"#313A53","accent-primary-hover":"#000","accent-primary-active":"#313A53","icons-primary":"#313A53","icons-primary-hover":"#313A53","borders-secondary":"red","borders-primary":"red","borders-strong":"red"},typography:{fontFamily:"Manrope, sans-serif"}},onSave:this.onSaveData,annotationsCommon:{fill:"#000000",stroke:"#000000",strokeWidth:0,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"#000000",shadowOpacity:1,text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",fontFamily:"asdfasd",fonts:[{label:"asdfasd",value:"asdfasdaa"},"adsasdfadffasd","Sasdfasdsadf",{label:"Comic asdfasd",value:"Comic-sans"}],fontSize:14,letterSpacing:0,align:"left",fontStyle:"normal"},Text:{text:"Image Editor..."},Rotate:{angle:90,componentType:"slider"},Crop:{autoResize:!0,presetsItems:[{titleKey:"classicTv",descriptionKey:"4:3",ratio:4/3,icon:(0,h.jsx)("div",{children:"ss"})},{titleKey:"cinemascope",descriptionKey:"21:9",ratio:21/9,icon:(0,h.jsx)("div",{children:"29"})}],presetsFolders:[{titleKey:"socialMedia",icon:(0,h.jsx)(h.Fragment,{children:"test"}),groups:[{titleKey:"facebook",items:[{titleKey:"profile",width:180,height:180,descriptionKey:"fbProfilePhotoSize"},{titleKey:"coverPhoto",width:820,height:312,descriptionKey:"fbCoverPhotoSize"}]}]}]},tabsIds:[m.G7.FILTERS,m.G7.ADJUST,m.G7.RESIZE,m.G7.ANNOTATE,m.G7.FINETUNE,m.Tk.TEXT],defaultTabId:m.G7.FILTERS,defaultToolId:m.Tk.TEXT,defaultResizeId:m.Tk.RESIZE})})]})}}]),a}(d.Component);t.default=(0,p.$j)((function(e){return{}}),(function(e){return{postPostUpdateAction:function(t,a){return e((0,g.kN)(t,a))}}}))(v)},28022:function(){}}]);
//# sourceMappingURL=2009.88e3c587.chunk.js.map