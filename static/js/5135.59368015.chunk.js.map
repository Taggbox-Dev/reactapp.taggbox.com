{"version":3,"file":"static/js/5135.59368015.chunk.js","mappings":"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","sources":["Layouts/Main/Templates/TemplateAside/Components/Elements/Background.js"],"sourcesContent":["import React, { Component, Suspense } from 'react';\nimport { Accordion, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport $ from 'jquery';\nimport { Uppy } from \"@uppy/core\";\nimport Transloadit from \"@uppy/transloadit\";\nimport GoogleDrive from '@uppy/google-drive';\nimport Url from '@uppy/url';\nimport { DashboardModal } from '@uppy/react';\nimport { uppyKey, uppyBucket, uppyAwsKey, uppyAwsSecret, companionUrl } from '../../../../../../Services/Utils/config'\nimport { CLOUD } from '../../../../../../Services/Api';\nconst ColorPicker = React.lazy(() => import('../../../../CommonComponents/ColorPicker'));\nclass Background extends Component {\n    constructor(props) {\n        super(props)\n        this.uppy = new Uppy({ debug: true, autoProceed: false, restrictions: { maxFileSize: 5000000, maxNumberOfFiles: 1, minNumberOfFiles: 1, allowedFileTypes: ['image/*'] } })\n            .use(Transloadit, {\n                target: '#a',\n                params: {\n                    auth: {\n                        key: uppyKey\n                    },\n                    steps: {\n                        store: {\n                            robot: \"/wasabi/store\",\n                            bucket_region: \"us-west-1\",\n                            bucket: uppyBucket,\n                            key: uppyAwsKey,\n                            secret: uppyAwsSecret,\n                            path: 'ugc-suite/tmp/${file.id}.${file.ext}'\n                        }\n                    }\n                },\n                waitForEncoding: true\n            })\n            .use(GoogleDrive, { target: Uppy.Dashboard, companionUrl: companionUrl })\n            .use(Url, { target: Uppy.Dashboard, companionUrl: companionUrl })\n    }\n    state = {\n        backgroundModal: false\n    }\n    componentDidMount() {\n        var self = this;\n        this.uppy.on('transloadit:result', (stepName, result) => {\n            self.props.onClickTouploadImage(`${CLOUD}tmp/${result.id}.${result.ext}`, result.id, () => {\n                setTimeout(() => {\n                    this.uppy.cancelAll()\n                    this.uppy.removeFile()\n                    this.setState({ backgroundModal: false })\n                }, 300)\n            })\n        })\n    }\n    onBackgroundClose = event => {\n        this.uppy.cancelAll()\n        this.uppy.removeFile()\n        this.setState({ backgroundModal: false })\n    }\n    onBackgroundOpen = event => {\n        this.setState({ backgroundModal: true }, () => {\n            $(\".uppy-Dashboard-close\").click(() => {\n                this.uppy.cancelAll()\n                this.uppy.removeFile()\n                this.setState({ backgroundModal: false })\n            })\n        })\n    }\n    render() {\n        const { onClickEnableBackground, onClickBackgroundColor, background, backgroundImageRemove } = this.props\n        const { backgroundModal } = this.state\n        return <>\n\n            <Accordion.Item eventKey=\"2\" className=\"pb-3\">\n                <Accordion.Header className=\"w-100\">\n                    <span className=\"fs-9 fw-medium\">Background</span>\n                </Accordion.Header>\n                <Accordion.Body className=\"border rounded-1 mt-1 p-2\">\n                    <label className={`form-check form-switch py-2 align-items-center justify-content-between ${background.status ? `border-bottom` : ``} h-40px py-1`}>\n                        <span className=\"form-check-label ps-0 fs-9 fw-medium text-gray-800\">Enable Background</span>\n                        <input className=\"form-check-input\" type=\"checkbox\" name=\"autoplayVideos\" checked={background.status} onChange={onClickEnableBackground} />\n                    </label>\n                    {\n                        background.status ? <><label className=\"d-flex align-items-center justify-content-between border-bottom h-40px py-1 position-relative\">\n                            <span className=\"ms-0 fs-9 fw-medium\">Background Color</span>\n                            <Suspense fallback={<></>}>\n                                <ColorPicker color={background.color} onChangeColor={onClickBackgroundColor} />\n                            </Suspense>\n                        </label>\n                            <div className=\"d-flex align-items-start justify-content-between flex-column py-1\">\n                                <p className=\"fs-9 fw-medium text-start mt-2\">Upload Background Image</p>\n                                <button type=\"button\" className=\"btn btn-secondary btn-sm w-100 mb-2\" onClick={this.onBackgroundOpen}>Attach Image</button>\n                                {background.image ? <div className=\"card card-custom w-100 rounded-1\">\n                                    <div className=\"card-body d-flex flex-column p-1\">\n                                        <div className=\"position-relative d-flex align-items-center cursor-pointer\">\n                                            <div className=\"position-relative rounded-1 bg-light overflow-hidden w-100\" style={{ paddingBottom: '66%' }}>\n                                                <img className=\"object-center-contain position-absolute\" loading=\"lazy\" src={background.image} height={500} width={300} alt={'suit'} />\n                                            </div>\n                                            <div className=\"removeBanner position-absolute end-0 top-0 pt-2 pe-2\">\n                                                <div className=\"d-flex align-items-center justify-content-end\">\n                                                    <OverlayTrigger placement=\"top\" overlay={<Tooltip>Edit</Tooltip>}>\n                                                        <button type=\"button\" className=\"btn btn-icon btn-secondary h-26px w-26px me-2\" onClick={this.onBackgroundOpen}>\n                                                            <i className=\"ri-edit-box-line text-gray-700 me-0\"></i>\n                                                        </button>\n                                                    </OverlayTrigger>\n                                                    <OverlayTrigger placement=\"top\" overlay={<Tooltip>Remove</Tooltip>}>\n                                                        <button type=\"button\" className=\"btn btn-icon btn-secondary h-26px w-26px\" onClick={backgroundImageRemove}>\n                                                            <i className=\"ri-delete-bin-6-line text-gray-700 me-0\"></i>\n                                                        </button>\n                                                    </OverlayTrigger>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div> : null}\n                            </div></> : null\n                    }\n\n                </Accordion.Body>\n            </Accordion.Item>\n            {\n                backgroundModal ? <DashboardModal\n                    animateOpenClose={true}\n                    proudlyDisplayPoweredByUppy={false}\n                    inline={false}\n                    showProgressDetails={true}\n                    height={750}\n                    browserBackButtonClose={true}\n                    showRemoveButtonAfterComplete={false}\n                    uppy={this.uppy}\n                    open={true}\n                    onRequestCloseModal={this.onBackgroundClose}\n                    closeAfterFinish={true}\n                    plugins={[]}\n                /> : null\n            }\n        </>\n    }\n\n}\nexport default Background"],"names":["ColorPicker","React","Background","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","backgroundModal","onBackgroundClose","event","uppy","cancelAll","removeFile","setState","onBackgroundOpen","$","click","Uppy","debug","autoProceed","restrictions","maxFileSize","maxNumberOfFiles","minNumberOfFiles","allowedFileTypes","use","Transloadit","target","params","auth","key","uppyKey","steps","store","robot","bucket_region","bucket","uppyBucket","uppyAwsKey","secret","uppyAwsSecret","path","waitForEncoding","GoogleDrive","companionUrl","Url","_createClass","value","_this2","self","this","on","stepName","result","onClickTouploadImage","concat","CLOUD","id","ext","setTimeout","_this$props","onClickEnableBackground","onClickBackgroundColor","background","backgroundImageRemove","_jsxs","_Fragment","children","Accordion","eventKey","className","_jsx","status","type","name","checked","onChange","Suspense","fallback","color","onChangeColor","onClick","image","style","paddingBottom","loading","src","height","width","alt","OverlayTrigger","placement","overlay","Tooltip","DashboardModal","animateOpenClose","proudlyDisplayPoweredByUppy","inline","showProgressDetails","browserBackButtonClose","showRemoveButtonAfterComplete","open","onRequestCloseModal","closeAfterFinish","plugins","Component"],"sourceRoot":""}