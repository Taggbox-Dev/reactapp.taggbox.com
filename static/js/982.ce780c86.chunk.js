"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[982],{20982:function(e,t,n){n.r(t);var s=n(15671),i=n(43144),a=n(97326),l=n(60136),r=n(29388),c=n(72791),o=n(74342),d=n(13953),m=n(72426),h=n.n(m),u=n(42195),x=n.n(u),f=n(11087),g=n(56600),j=n(46305),b=n(80184),p=function(e){(0,l.Z)(n,e);var t=(0,r.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e)).onLoad=function(){var e=(0,a.Z)(i);(0,j.Jq)().then((function(t){var n=t.data.responseData.notifications;if(n&&n.length>0){var s={};if(n.map((function(e){s[h()(new Date(1e3*e.message.time)).fromNow()]?s[h()(new Date(1e3*e.message.time)).fromNow()].includes(e.id)||s[h()(new Date(1e3*e.message.time)).fromNow()].push(e):s[h()(new Date(1e3*e.message.time)).fromNow()]=[e]})),n&&n.length>0&&n.filter((function(e){return 1==e.status})).length>0){var i=document.getElementById("notificationCount");i.style.display="block",i.innerText=n.filter((function(e){return 1==e.status})).length}e.setState({notifications:s})}}))},i.updateStatus=function(e,t){return function(n){var s=(0,a.Z)(i);(0,j.N8)(e,t).then((function(e){s.onLoad()}))}},i.state={notifications:[]},i}return(0,i.Z)(n,[{key:"componentWillMount",value:function(){this.onLoad()}},{key:"render",value:function(){var e=this,t=this.state.notifications;return(0,b.jsx)("div",{className:"w-100",children:(0,b.jsxs)(o.Z.Container,{id:"notifications_tab_panel",defaultActiveKey:"all-notifications",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-between px-3 pt-2 border-bottom",children:[(0,b.jsxs)(d.Z,{variant:"default",className:"nav",children:[(0,b.jsx)(d.Z.Item,{className:"",children:(0,b.jsx)(d.Z.Link,{className:"me-3 px-0",eventKey:"all-notifications",children:"All"})}),(0,b.jsx)(d.Z.Item,{className:"",children:(0,b.jsx)(d.Z.Link,{className:"px-0",eventKey:"unread-notifications",children:"Unread"})})]}),(0,b.jsx)("div",{children:(0,b.jsx)("button",{type:"button",className:"btn btn-link btn-sm px-0 h-auto fw-bold text-decoration-none btn-active-color-primary",children:"Mark all as read"})})]}),(0,b.jsx)(x(),{children:t&&Object.keys(t).length>0?(0,b.jsxs)(o.Z.Content,{children:[(0,b.jsx)(o.Z.Pane,{eventKey:"all-notifications",className:"pb-3",children:t&&Object.keys(t).map((function(e,n){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-between px-3 py-1",children:[(0,b.jsx)("span",{className:"text-gray-800 fw-bold",children:e}),(0,b.jsx)("span",{className:"bg-primary badge rounded-5 min-w-30 text-light-alt",children:t[e]&&t[e].length>0?t[e].length:0})]}),t[e]&&t[e].length>0?(0,b.jsx)("div",{className:"",children:t[e].map((function(e){return(0,b.jsxs)("div",{className:"px-3 d-flex align-items-start border-bottom notification-item  ".concat(0==e.status?"bg-light":""),children:[(0,b.jsx)("div",{className:"symbol symbol-38 rounded-1 overflow-hidden me-2 bg-light p-2",children:(0,b.jsx)("img",{alt:"Pic",src:(0,g.F)("media/icons/social-icons/twitter.svg"),height:"40",width:"40"})}),(0,b.jsxs)("div",{className:"d-flex align-items-start flex-column flex-grow-1",children:[(0,b.jsxs)("div",{className:"d-flex algin-items-center justify-content-between w-100",children:[(0,b.jsx)(f.rU,{to:"/home",className:"text-hover-primary text-gray-800 fw-bold text-decoration-none me-2",children:e.message.subject}),(0,b.jsx)("span",{className:"text-gray-500 fs-9",children:h()(new Date(1e3*e.message.time)).format("hh:mma")})]}),(0,b.jsx)("div",{className:"d-flex algin-items-start",children:(0,b.jsx)("span",{className:"text-gray-600 fs-9",children:e.message.text})})]})]},e.id)}))}):null]})}))}),(0,b.jsx)(o.Z.Pane,{eventKey:"unread-notifications",className:"pb-3",children:t&&Object.keys(t).map((function(n,s){return t[n]&&t[n].length>0&&t[n].filter((function(e){return 0==e.status})).length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-between px-3 py-1",children:[(0,b.jsx)("span",{className:"text-gray-800 fw-bold",children:n}),(0,b.jsx)("span",{className:"bg-primary badge rounded-5 min-w-30 text-light-alt",children:t[n]&&t[n].length>0&&t[n].filter((function(e){return 0==e.status})).length>0?t[n].filter((function(e){return 0==e.status})).length:0})]}),t[n]&&t[n].length>0?(0,b.jsx)("div",{className:"",children:t[n].map((function(t){return 0==t.status?(0,b.jsxs)("div",{className:"px-3 d-flex align-items-start border-bottom notification-item bg-light",onClick:e.updateStatus(t.id,1),children:[(0,b.jsx)("div",{className:"symbol symbol-38 rounded-1 overflow-hidden me-2 bg-light p-2",children:(0,b.jsx)("img",{alt:"Pic",src:(0,g.F)("media/icons/social-icons/twitter.svg"),height:"40",width:"40"})}),(0,b.jsxs)("div",{className:"d-flex align-items-start flex-column flex-grow-1",children:[(0,b.jsxs)("div",{className:"d-flex algin-items-center justify-content-between w-100",children:[(0,b.jsx)(f.rU,{to:"/home",className:"text-hover-primary text-gray-800 fw-bold text-decoration-none me-2",children:t.message.subject}),(0,b.jsx)("span",{className:"text-gray-500 fs-9",children:h()(new Date(1e3*t.message.time)).format("hh:mma")})]}),(0,b.jsx)("div",{className:"d-flex algin-items-start",children:(0,b.jsx)("span",{className:"text-gray-600 fs-9",children:t.message.text})})]})]},t.id):null}))}):null]}):null}))})]}):null})]})})}}]),n}(c.Component);t.default=p}}]);
//# sourceMappingURL=982.ce780c86.chunk.js.map