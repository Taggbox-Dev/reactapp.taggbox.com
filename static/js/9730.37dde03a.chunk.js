"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[9730],{39730:function(e,t,n){n.r(t);var a=n(15671),i=n(43144),s=n(60136),l=n(29388),o=n(72791),r=n(78687),c=n(95316),d=n(86836),g=n(52),u=n(80184),p=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).state={tagString:[],newTag:"",listTags:[],selectedOption:null},i.addTagValue=function(e){},i.onClickToRemoveTag=function(e){return function(t){var n=i.state.tagString;n.splice(e,1),i.setState({tagString:n})}},i.handleClose=function(){i.props.addTagCallback(!1)},i.onClickNewAddTag=function(e){var t=i.state,n=t.newTag,a=t.tagString;i.props.modalAssetData;n&&String(n).length>=3&&(a.push(n),i.setState({tagString:a,newTag:"",selectedOption:null}))},i.addNewTag=function(e){return i.setState({newTag:e.target.value})},i.onClickToSave=function(e){var t=i.state.tagString,n=i.props.modalAssetData;t&&t.length>0&&i.props.postAddTag({postId:String(n.id),tags:t.join(",")})},i.setNewTags=function(e){console.log("Option selected:",e),e&&e.value?i.setState({newTag:e.value,selectedOption:e}):i.setState({newTag:"",selectedOption:null})},i}return(0,i.Z)(n,[{key:"componentWillMount",value:function(){var e=this.props.tagList;if(e&&e.length>0){var t=[];e.map((function(e){t.push({value:e,label:e})})),this.setState({listTags:t}),console.log("componentWillMount",this.props)}}},{key:"componentDidMount",value:function(){var e=this.props.modalAssetData;e&&Object.keys(e).length>0&&e.tags&&String(e.tags).length>0&&this.setState({tagString:String(e.tags).split(",")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.addTagShowModal,a=t.modalAssetData,i=this.state,s=i.tagString,l=(i.newTag,i.listTags),o=i.selectedOption;return console.log("listTagslistTags",l),a&&Object.keys(a).length>0?(0,u.jsxs)(c.Z,{show:n,onHide:this.handleClose,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,u.jsx)(c.Z.Header,{closeButton:!0,children:(0,u.jsx)(c.Z.Title,{children:"Add Tag"})}),(0,u.jsx)(c.Z.Body,{children:(0,u.jsxs)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0 pt-4",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-lg-5",children:(0,u.jsx)("div",{className:"card-body d-flex flex-column mb-3",children:(0,u.jsx)("div",{className:"d-flex align-items-center cursor-pointer",children:(0,u.jsx)("div",{className:"position-relative rounded-1 bg-light overflow-hidden w-100",style:{paddingBottom:"120%",width:"100%"},children:(0,u.jsx)("img",{className:"object-center-cover position-absolute",loading:"lazy",src:a.postFile,height:500,width:300,alt:"suit"})})})})}),(0,u.jsxs)("div",{className:"col-lg-7",children:[(0,u.jsxs)("div",{className:"mb-3 mb-xl-4",children:[(0,u.jsx)("label",{className:"text-muted fw-semibold mb-2",children:"Add Tag"}),(0,u.jsxs)("div",{className:"d-flex align-items-center w-100",children:[(0,u.jsxs)("div",{className:"position-relative d-flex flex-grow-1 flex-column pe-2",children:[(0,u.jsx)("span",{className:"h-38px w-38px block-center text-gray-500 position-absolute top-0 start-0 translate-middle-x ms-5",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-tags",viewBox:"0 0 16 16",children:[(0,u.jsx)("path",{d:"M3 2v4.586l7 7L14.586 9l-7-7H3zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586V2z"}),(0,u.jsx)("path",{d:"M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"})]})}),(0,u.jsx)(d.Z,{className:"form-control ps-9",isClearable:!0,options:l,onChange:this.setNewTags,value:o})]}),(0,u.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.onClickNewAddTag,children:"Add"})]})]}),(0,u.jsx)("div",{className:"mb-3 mb-xl-4",children:(0,u.jsx)("div",{style:{minHeight:220},children:(0,u.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:s.map((function(t,n){return(0,u.jsxs)("div",{className:"block-center badge bg-secondary text-gray-800 rounded-pill border me-2 mb-2",children:[t,(0,u.jsx)("button",{className:"btn btn-sm p-0 ms-1",onClick:e.onClickToRemoveTag(n),children:(0,u.jsx)("span",{className:"svg-icon me-0",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,u.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,u.jsx)("path",{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"})]})})})]},t.toString())}))})})})]})]}),(0,u.jsx)("div",{className:"d-flex alert alert-info",children:(0,u.jsx)("div",{className:"d-flex flex-column flex-stack flex-grow-1",children:(0,u.jsx)("p",{className:"mb-0 text-gray-800",children:"Tags will help you improve content filtering."})})})]})}),(0,u.jsx)(c.Z.Footer,{className:"p-3",children:(0,u.jsxs)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0",children:[(0,u.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm btn-min-w me-3",onClick:this.handleClose,children:"Cancel"}),(0,u.jsx)("button",{type:"button",className:"btn btn-primary btn-sm btn-min-w",onClick:this.onClickToSave,children:"Save"})]})})]}):null}}]),n}(o.Component);t.default=(0,r.$j)((function(e){return console.log("state",e),{tagList:e.tags.tagList}}),(function(e){return{postAddTag:function(t){return e((0,g._)(t))}}}))(p)},86836:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(87462),i=n(72791),s=n(60474),l=n(8003),o=n(1413),r=n(93433),c=n(45987),d=n(74999),g=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),i=String(n.getOptionValue(t)).toLowerCase(),s=String(n.getOptionLabel(t)).toLowerCase();return i===a||s===a},p={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,a){return!(!e||t.some((function(t){return u(e,t,a)}))||n.some((function(t){return u(e,t,a)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};n(54164),n(51672);var h=(0,i.forwardRef)((function(e,t){var n=function(e){var t=e.allowCreateWhileLoading,n=void 0!==t&&t,a=e.createOptionPosition,l=void 0===a?"last":a,u=e.formatCreateLabel,h=void 0===u?p.formatCreateLabel:u,m=e.isValidNewOption,v=void 0===m?p.isValidNewOption:m,x=e.getNewOptionData,f=void 0===x?p.getNewOptionData:x,b=e.onCreateOption,w=e.options,j=void 0===w?[]:w,N=e.onChange,C=(0,c.Z)(e,g),T=C.getOptionValue,S=void 0===T?s.g:T,O=C.getOptionLabel,k=void 0===O?s.b:O,y=C.inputValue,L=C.isLoading,Z=C.isMulti,A=C.value,M=C.name,V=(0,i.useMemo)((function(){return v(y,(0,d.I)(A),j,{getOptionValue:S,getOptionLabel:k})?f(y,h(y)):void 0}),[h,f,k,S,y,v,j,A]),D=(0,i.useMemo)((function(){return!n&&L||!V?j:"first"===l?[V].concat((0,r.Z)(j)):[].concat((0,r.Z)(j),[V])}),[n,l,L,V,j]),z=(0,i.useCallback)((function(e,t){if("select-option"!==t.action)return N(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]!==V)N(e,t);else if(b)b(y);else{var a=f(y,y),i={action:"create-option",name:M,option:a};N((0,d.D)(Z,[].concat((0,r.Z)((0,d.I)(A)),[a]),a),i)}}),[f,y,Z,M,V,b,N,A]);return(0,o.Z)((0,o.Z)({},C),{},{options:D,onChange:z})}((0,l.u)(e));return i.createElement(s.S,(0,a.Z)({ref:t},n))}))}}]);
//# sourceMappingURL=9730.37dde03a.chunk.js.map