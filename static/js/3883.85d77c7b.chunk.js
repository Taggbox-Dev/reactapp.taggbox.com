"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[3883],{33883:function(e,t,s){s.r(t),s.d(t,{default:function(){return N}});var n=s(1413),a=s(15671),i=s(43144),l=s(60136),o=s(29388),c=s(72791),r=s(9085),d=s(78687),h=s(42195),p=s.n(h),m=s(25862),g=s(12576),u=s(94194),x=s(94111),v=s(55353),f=s(80184),j=function(e){(0,l.Z)(s,e);var t=(0,o.Z)(s);function s(e){var n;return(0,a.Z)(this,s),(n=t.call(this,e)).onClickToRemoveTag=function(e){return function(t){var s=n.state.tagString,a=n.props,i=a.uIndex,l=a.onAddTagSubmit;s.splice(e,1),l(i,s.join(",")),n.setState({tagString:s})}},n.onClickNewAddTag=function(e,t){return function(t){var s=n.state.tagString;if(e&&String(e).length>=3){0==s.filter((function(t){return t==e}))&&s.push(e);var a=document.querySelector("#texttagsearch");a&&(a.value=""),n.setState({tagString:s,selectedOption:null,isShow:!1})}}},n.onClickNewAddTagEnter=function(e){if("Enter"===e.key||13===e.keyCode){var t=n.state.tagString;if(e.target.value&&String(e.target.value).length>=3){0==t.filter((function(t){return t==e.target.value}))&&t.push(e.target.value);var s=document.querySelector("#texttagsearch");s&&(s.value=""),n.setState({tagString:t,selectedOption:null,isShow:!1})}}},n.onClickSubmit=function(e){return function(t){var s=n.state.tagString;n.props.onAddTagSubmit(e,s.join(",")),n.setState({isOpen:!1})}},n.addNewTag=function(e){return n.setState({newTag:e.target.value})},n.setNewTags=function(e){e&&e.value?n.setState({newTag:e.value,selectedOption:e}):n.setState({newTag:"",selectedOption:null})},n.onSearchtag=function(e){var t=n.props.tagList;if(e.target.value&&String(e.target.value).length>0){var s=t.filter((function(t){return String(t).includes(e.target.value)}));if(s&&s.length>0){var a=[];s.map((function(e){a.push({value:e,label:e})})),n.setState({listTags:a})}}else if(t&&t.length>0){a=[];t.map((function(e){a.push({value:e,label:e})})),n.setState({listTags:a})}},n.onClickToResetTag=function(e){return function(t){n.setState({tagString:[]},(function(){return n.props.onAddTagReset(e,"")}))}},n.onClickToggle=function(e){var t=n.state.isOpen;n.setState({isOpen:!t})},console.log("props.item.addTags TagDropdown",e.item.addTags),n.state={tagString:e.item.addTags?String(e.item.addTags).split(","):[],newTag:"",listTags:[],selectedOption:null,isShow:!1,isOpen:!1},n}return(0,i.Z)(s,[{key:"componentWillMount",value:function(){var e=this.props.tagList;if(e&&e.length>0){var t=[];e.map((function(e){t.push({value:e,label:e})})),this.setState({listTags:t})}}},{key:"componentDidMount",value:function(){var e=this.props.item;this.setState({tagString:String(e.addTags).split(",")})}},{key:"componentWillReceiveProps",value:function(e){e.item.addTags&&this.state.tagString!=String(e.item.addTags).split(",")&&this.setState({tagString:String(e.item.addTags).split(",")})}},{key:"render",value:function(){var e=this,t=this.state,s=t.tagString,n=(t.newTag,t.listTags),a=(t.selectedOption,t.isOpen),i=this.props,l=i.uIndex,o=i.item;i.onAddTagReset,i.onAddTagSubmit,i.onAddTagSingle;return console.log("item suu",o.addTags,this.props,s),(0,f.jsxs)(v.Z,{className:"position-relative",id:"tag".concat(l),show:a,onToggle:this.onClickToggle,children:[(0,f.jsxs)(v.Z.Toggle,{variant:"btn",className:"d-flex input-group p-0 arrow_disabled mb-2",children:[(0,f.jsx)("input",{name:"enterTags",className:"form-control form-control-sm fs-10 d-flex overflow-hidden",style:{minHeight:30},placeholder:"Enter Tags...","aria-label":"Enter Tags...","aria-describedby":"enterTags",readOnly:!0,value:o.addTags}),(0,f.jsx)("button",{type:"button",className:"input-group-text svg-icon svg-icon-7 me-0 px-2 text-gray-800",id:"enterTags",onClick:this.onClickToggle,children:(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{d:"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z",fill:"currentColor"})]})})]}),(0,f.jsxs)(v.Z.Menu,{className:"popover p-2 bg-light position-absolute start-0 top-0 w-100 rounded-1 box-shadow",children:[(0,f.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,f.jsx)("div",{className:"fs-9 fw-semibold text-gray-800",children:"Add Tags"}),(0,f.jsx)(m.Z,{placement:"top",overlay:(0,f.jsx)(g.Z,{children:"Reset"}),children:(0,f.jsx)("button",{type:"button",className:"btn btn-sm btn-icon btn-active-light btn-active-color-primary p-0 h-24px w-24px",onClick:this.onClickToResetTag(l),children:(0,f.jsx)("span",{className:"svg-icon svg-icon-7 me-0",children:(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{d:"M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z",fill:"currentColor"})]})})})})]}),(0,f.jsx)("div",{className:"d-flex w-100 flex-wrap",children:s.map((function(t,s){return t&&String(t).length>0?(0,f.jsxs)("div",{className:"badge bg-secondary rounded-pill text-gray-800 border me-1 mb-1 px-2 d-flex align-items-center",style:{top:0,maxWidth:"100%"},children:[(0,f.jsx)("span",{className:"text-break",style:{whiteSpace:"normal"},children:t}),(0,f.jsx)("span",{className:"svg-icon svg-icon-7 me-0",onClick:e.onClickToRemoveTag(s),children:(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"})]})})]}):null}))}),(0,f.jsxs)("div",{className:"dropdown",children:[(0,f.jsx)("input",{id:"texttagsearch",className:"form-control form-control-sm fs-10 d-flex overflow-hidden",style:{minHeight:30},placeholder:"Enter Tags...",autocomplete:"off",onChange:this.onSearchtag,onClick:function(t){return e.setState({isShow:!0})},onKeyUp:this.onClickNewAddTagEnter}),(0,f.jsx)("div",{className:"dropdown-menu p-2 w-100 ".concat(this.state.isShow?"show":""),children:(0,f.jsx)(p(),{children:(0,f.jsx)("div",{className:"list-autocomplete w-100",style:{maxHeight:150},children:n.map((function(t,s){return(0,f.jsx)("button",{onClick:e.onClickNewAddTag(t.label,l),type:"button",className:"dropdown-item fs-9 py-1 px-2 text-ellipsis d-block",children:t.label},s)}))})})})]}),(0,f.jsx)("div",{className:"w-100 d-flex justify-content-end pt-2",children:(0,f.jsx)("button",{type:"submit",className:"btn btn-xs btn-primary",onClick:this.onClickSubmit(l),children:"Done"})})]})]})}}]),s}(c.Component),b=(0,d.$j)((function(e){return{tagList:e.tags.tagList}}))(j),w=function(e){(0,l.Z)(s,e);var t=(0,o.Z)(s);function s(e){var n;return(0,a.Z)(this,s),(n=t.call(this,e)).onClickToggle=function(e){var t=n.state.isOpen;n.setState({isOpen:!t})},n.onClickSubmit=function(e){return function(t){n.props.onSubmitCaption(e,n.state.caption),n.setState({isOpen:!1})}},n.onClickToReset=function(e){return function(t){n.setState({caption:""},(function(){return n.props.onResetCaption(e,"")}))}},n.onChangeText=function(e){return function(e){n.setState({caption:e.target.value})}},console.log("props.item.addTags TagDropdown",e.item.caption),n.state={isOpen:!1,caption:e.item.caption},n}return(0,i.Z)(s,[{key:"componentWillReceiveProps",value:function(e){this.state.caption!=e.item.caption&&this.setState({caption:e.item.caption})}},{key:"render",value:function(){var e=this.state,t=e.isOpen,s=(e.caption,this.props),n=s.uIndex,a=s.item;return(0,f.jsxs)(f.Fragment,{children:[" ",(0,f.jsxs)(v.Z,{className:"position-relative",id:"caption".concat(n),show:t,onToggle:this.onClickToggle,children:[(0,f.jsxs)(v.Z.Toggle,{variant:"btn",className:"d-flex input-group p-0 arrow_disabled",children:[(0,f.jsx)("input",{type:"text",className:"form-control form-control-sm fs-10",style:{minHeight:30},placeholder:"Enter Caption...","aria-label":"Enter Caption...","aria-describedby":"mediaCaption",readOnly:!0,value:a.caption}),(0,f.jsx)("button",{type:"button",className:"input-group-text svg-icon svg-icon-7 me-0 px-2 text-gray-800",id:"mediaCaption",onClick:this.onClickToggle,children:(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{d:"M16.757 3l-2 2H5v14h14V9.243l2-2V20a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12.757zm3.728-.9L21.9 3.516l-9.192 9.192-1.412.003-.002-1.417L20.485 2.1z",fill:"currentColor"})]})})]}),(0,f.jsxs)(v.Z.Menu,{className:"popover p-2 bg-light position-absolute start-0 top-0 w-100 rounded-1 box-shadow",children:[(0,f.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,f.jsx)("div",{className:"fs-9 fw-semibold text-gray-800",children:"Add Caption"}),(0,f.jsx)(m.Z,{placement:"top",overlay:(0,f.jsx)(g.Z,{children:"Reset"}),children:(0,f.jsx)("button",{type:"button",className:"btn btn-sm btn-icon btn-active-light btn-active-color-primary p-0 h-24px w-24px",onClick:this.onClickToReset(n),children:(0,f.jsx)("span",{className:"svg-icon svg-icon-7 me-0",children:(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{d:"M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z",fill:"currentColor"})]})})})})]}),(0,f.jsx)("textarea",{className:"form-control form-control-sm textarea-min-row-4",value:this.state.caption,onChange:this.onChangeText(n)}),(0,f.jsx)("div",{className:"w-100 d-flex justify-content-end pt-2",children:(0,f.jsx)("button",{type:"submit",className:"btn btn-xs btn-primary",onClick:this.onClickSubmit(n),children:"Done"})})]})]})]})}}]),s}(c.Component),y=function(e){(0,l.Z)(s,e);var t=(0,o.Z)(s);function s(){var e;(0,a.Z)(this,s);for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={isRequest:!1},e.onClickUploaded=function(t){var s=e.props,a=s.collection,i=s.uploadedData;if(s.selected){if(i&&i.length>0){e.setState({isRequest:!0});var l=[];i.map((function(e){e.checked&&l.push({content:e.content,postFile:e.postFile,copyrights:e.copyrights?1:0,mediaHeight:e.mediaHeight,mediaWidth:e.mediaWidth,tags:e.addTags})}));var o=a&&a.value?{collection:a.value}:{},c=(0,n.Z)({assets:l},o);e.props.createAssets(c,e.onCallBack)}}else r.Am.error("Please select assets for upload.")},e.onCallBack=function(){var t=e.props,s=t.editMediaHandleCallback,n=t.history;e.setState({isRequest:!1}),s(!1),n("/assets")},e}return(0,i.Z)(s,[{key:"render",value:function(){var e=this.props,t=e.uploadedData,s=e.selected,a=e.onClickTORemovePost,i=e.onClickTOCheckPost,l=(e.updateStatus,e.updateStatusC),o=e.updateStatusTag,c=e.updateStatusCopy,r=e.captionStatus,d=e.tagsStatus,h=e.copyrightStatus,x=e.onChangeCaption,v=e.onChangeTags,j=e.onChangeCopyRight,y=e.captionText,N=e.tagstext,k=e.copyrightValue,C=e.onClickToAllCheck,S=e.checkAll,T=e.onCaptionSingle,A=e.onAddTagSingle,Z=e.onCopyRightSingle,z=e.onAddTagSubmit,H=e.onSubmitCaption,M=e.onResetCaption,R=e.onAddTagReset,O=this.state.isRequest;return console.log("sudarshan",t),(0,f.jsxs)("div",{className:"d-flex align-items-start flex-column flex-lg-row w-100",children:[(0,f.jsx)("div",{className:"innerModalAside flex-shrink-0 p-3",children:(0,f.jsx)("div",{className:"card",children:(0,f.jsxs)("div",{className:"card-body",children:[(0,f.jsx)(p(),{children:(0,f.jsxs)("div",{className:"innerModalAsideWrapper p-xxl-1",children:[(0,f.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom pb-3 mb-4 d-lg-none",children:[(0,f.jsx)("h1",{className:"text-dark font-weight-bold mr-4 fs-6 mb-0",children:"Edit Image"}),(0,f.jsx)("div",{className:"d-flex align-items-start",children:(0,f.jsx)("button",{type:"button",className:"btn-close text-light",onClick:this.modalToggle})})]}),(0,f.jsxs)("label",{className:"form-check flex-grow-1 justify-content-between border-bottom pb-3 mb-3",children:[(0,f.jsxs)("span",{className:"form-check-label ps-0 me-1",children:["Select All (",s,")"]}),(0,f.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:S,onClick:C})]}),(0,f.jsxs)("div",{className:"border-bottom pb-3 mb-3",children:[(0,f.jsxs)("div",{className:"form-check form-switch justify-content-between mb-2",children:[(0,f.jsxs)("label",{className:"form-check-label ps-0",htmlFor:"mediaCaption",children:["Caption",(0,f.jsx)(m.Z,{placement:"top",overlay:(0,f.jsx)(g.Z,{children:"Add a caption to all selected assets."}),children:(0,f.jsx)("span",{className:"svg-icon svg-icon-6 ms-1",children:(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11v6h2v-6h-2zm0-4v2h2V7h-2z",fill:"currentColor"})]})})})]}),(0,f.jsx)("input",{className:"form-check-input",type:"checkbox",id:"mediaCaption",value:r,onClick:l})]}),(0,f.jsx)("textarea",{type:"text",className:"form-control textarea-min-row-4",placeholder:"Add your caption here...",rows:6,onChange:x,value:y})]}),(0,f.jsxs)("div",{className:"border-bottom pb-3 mb-3",children:[(0,f.jsxs)("div",{className:"form-check form-switch justify-content-between mb-2",children:[(0,f.jsxs)("label",{className:"form-check-label ps-0",htmlFor:"addTag",children:["Add Tag",(0,f.jsx)(m.Z,{placement:"top",overlay:(0,f.jsx)(g.Z,{children:"Select assets and add a tag to categorize your visuals."}),children:(0,f.jsx)("span",{className:"svg-icon svg-icon-6 ms-1",children:(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11v6h2v-6h-2zm0-4v2h2V7h-2z",fill:"currentColor"})]})})})]}),(0,f.jsx)("input",{className:"form-check-input",type:"checkbox",value:d,id:"addTag",onClick:o})]}),(0,f.jsx)("input",{type:"text",className:"form-control",placeholder:"Add tag here..",onChange:v,value:N})]}),(0,f.jsxs)("div",{className:"pb-3 mb-3",children:[(0,f.jsxs)("div",{className:"form-check form-switch justify-content-between mb-2",children:[(0,f.jsxs)("label",{className:"form-check-label ps-0",htmlFor:"mediaCopyright",children:["Copyright",(0,f.jsx)(m.Z,{placement:"top",overlay:(0,f.jsx)(g.Z,{children:"Get copyright for your content and avoid any legal issues in the future."}),children:(0,f.jsx)("span",{className:"svg-icon svg-icon-6 ms-1",children:(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11v6h2v-6h-2zm0-4v2h2V7h-2z",fill:"currentColor"})]})})})]}),(0,f.jsx)("input",{className:"form-check-input",type:"checkbox",value:h,id:"mediaCopyright",onClick:c})]}),(0,f.jsxs)("div",{className:"d-flex align-items-center pt-1",children:[(0,f.jsxs)("div",{className:"form-check me-3",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",name:"copyright",value:1==k?"yes":"",id:"copyrightYes",onClick:j(!0)}),(0,f.jsx)("label",{className:"form-check-label text-muted",htmlFor:"copyrightYes",children:"Yes"})]}),(0,f.jsxs)("div",{className:"form-check",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",name:"copyright",value:0==k?"no":"",id:"copyrightNo",onClick:j(!1)}),(0,f.jsx)("label",{className:"form-check-label text-muted",htmlFor:"copyrightNo",children:"No"})]})]})]})]})}),(0,f.jsx)("div",{className:"innerAsideActions p-xxl-1",children:(0,f.jsxs)("button",{className:"btn btn-primary w-100 ".concat(O?"spinner":""),onClick:this.onClickUploaded,children:["Upload Assets (",s,")"]})})]})})}),(0,f.jsx)("div",{className:"innerModalWrap d-flex flex-grow-1 w-100 flex-column py-3",children:(0,f.jsx)("div",{className:"container-fluid",children:t?(0,f.jsx)("div",{className:"row gx-2",children:t.map((function(e,t){return(0,f.jsx)("div",{className:"uploadedAssetsGrid",children:(0,f.jsx)("div",{className:"card card-custom mb-2",children:(0,f.jsxs)("div",{className:"card-body d-flex flex-column p-2",children:[(0,f.jsxs)("div",{className:"d-flex align-items-center justify-content-between pb-2",children:[(0,f.jsx)("div",{className:"d-flex align-items-start",children:(0,f.jsx)("label",{className:"form-check me-2",children:(0,f.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"phone",checked:e.checked,onClick:i(t)})})}),(0,f.jsx)("div",{className:"d-flex align-items-start",children:(0,f.jsx)("button",{type:"button",className:"btn btn-icon h-20px w-20px",onClick:a(t),children:(0,f.jsx)("span",{className:"svg-icon me-0",children:(0,f.jsx)("svg",{className:"h-12px w-12px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:(0,f.jsx)("path",{d:"M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z",fill:"currentColor"})})})})})]}),(0,f.jsxs)("div",{className:"d-flex align-items-center flex-column cursor-pointer",children:[(0,f.jsx)(u.default,{mediaType:2,postFile:e.postFile,socialNetwork:0,textContent:e.content,rating:4,mediaHeight:466,mediaWidth:878}),(0,f.jsxs)("div",{className:"w-100 pt-2",children:[console.log("check"),(0,f.jsx)(b,(0,n.Z)({uIndex:t,item:e,onAddTagReset:R,onAddTagSubmit:z,onAddTagSingle:A},e)),(0,f.jsx)(w,{uIndex:t,onResetCaption:M,item:e,onCaptionSingle:T,onSubmitCaption:H}),(0,f.jsxs)("div",{className:"d-flex flex-wrap justify-content-between pt-2",children:[(0,f.jsx)("label",{className:"text-gray-800 fs-9 pe-2",children:"Copyright"}),(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsxs)("div",{className:"form-check me-3",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",id:"copyrightPostYes",checked:1==e.copyright,onClick:Z(t,!0)}),(0,f.jsx)("label",{className:"form-check-label fs-9",htmlFor:"copyrightPostYes",children:"Yes"})]}),(0,f.jsxs)("div",{className:"form-check",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",id:"copyrightPostNo",checked:0==e.copyright,onClick:Z(t,!1)}),(0,f.jsx)("label",{className:"form-check-label fs-9",htmlFor:"copyrightPostNo",children:"No"})]})]})]})]})]})]})})},e.postId)}))}):null})})]})}}]),s}(c.Component),N=(0,d.$j)((function(e){return{}}),(function(e){return{createAssets:function(t,s){return e((0,x.uv)(t,s))}}}))(y)}}]);
//# sourceMappingURL=3883.85d77c7b.chunk.js.map