"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[383],{50383:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var i=n(72791),r=n(15671),o=n(43144),s=n(60136),a=n(29388);var c=n(37762),h=n(70885),u=function(t){return self.PointerEvent&&t instanceof PointerEvent},l=function(){},d=function(t,e){return e?Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2)):0},v=function(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t},f=function(t,e){return"number"===typeof t?t:t.trimRight().endsWith("%")?e*parseFloat(t)/100:parseFloat(t)},p=function(t,e){return e?"".concat(t," ").concat(e):t},m=(0,o.Z)((function t(e){(0,r.Z)(this,t),this.id=-1,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,self.Touch&&e instanceof Touch?this.id=e.identifier:u(e)&&(this.id=e.pointerId)})),_=function(){function t(e,n){(0,r.Z)(this,t);var i=n.start,o=void 0===i?function(){return!0}:i,s=n.move,a=void 0===s?l:s,c=n.end,h=void 0===c?l:c;this.e=e,this.startPointers=[],this.currentPointers=[],this._startCallback=o,this._moveCallback=a,this._endCallback=h,this._pointerStart=this._pointerStart.bind(this),this._touchStart=this._touchStart.bind(this),this._move=this._move.bind(this),this._triggerPointerEnd=this._triggerPointerEnd.bind(this),this._pointerEnd=this._pointerEnd.bind(this),this._touchEnd=this._touchEnd.bind(this),self.PointerEvent?this.e.addEventListener("pointerdown",this._pointerStart):(this.e.addEventListener("mousedown",this._pointerStart),this.e.addEventListener("touchstart",this._touchStart),this.e.addEventListener("touchmove",this._move),this.e.addEventListener("touchend",this._touchEnd))}return(0,o.Z)(t,[{key:"unsubscribe",value:function(){var t=this;[["mousedown",this._pointerStart],["pointerdown",this._pointerStart],["pointermove",this._move],["pointerup",this._pointerEnd],["touchend",this._touchEnd],["touchmove",this._move],["touchstart",this._touchStart],["mousemove",this._move],["mouseup",this._pointerEnd]].forEach((function(e){var n=(0,h.Z)(e,2),i=n[0],r=n[1];t.e.removeEventListener(i,r)}))}},{key:"_triggerPointerStart",value:function(t,e){return!!this._startCallback(t,e)&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}},{key:"_pointerStart",value:function(t){0===t.button&&this._triggerPointerStart(new m(t),t)&&(u(t)?(this.e.setPointerCapture(t.pointerId),this.e.addEventListener("pointermove",this._move),this.e.addEventListener("pointerup",this._pointerEnd)):(this.e.addEventListener("mousemove",this._move),this.e.addEventListener("mouseup",this._pointerEnd)))}},{key:"_touchStart",value:function(t){for(var e=0,n=Array.from(t.changedTouches);e<n.length;e++){var i=n[e];this._triggerPointerStart(new m(i),t)}}},{key:"_move",value:function(t){var e,n=this,i=this.currentPointers.slice(),r="changedTouches"in t?Array.from(t.changedTouches).map((function(t){return new m(t)})):[new m(t)],o=[],s=(0,c.Z)(r);try{var a=function(){var t=e.value,i=n.currentPointers.findIndex((function(e){return e.id===t.id}));if(-1===i)return"continue";o.push(t),n.currentPointers[i]=t};for(s.s();!(e=s.n()).done;)a()}catch(h){s.e(h)}finally{s.f()}0!==o.length&&this._moveCallback(i,o,t)}},{key:"_triggerPointerEnd",value:function(t,e){var n=this.currentPointers.findIndex((function(e){return e.id===t.id}));return-1!==n&&(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this._endCallback(t,e),!0)}},{key:"_pointerEnd",value:function(t){if(this._triggerPointerEnd(new m(t),t))if(u(t)){if(this.currentPointers.length>0)return;this.e.removeEventListener("pointermove",this._move),this.e.removeEventListener("pointerup",this._pointerEnd)}else this.e.removeEventListener("mousemove",this._move),this.e.removeEventListener("mouseup",this._pointerEnd)}},{key:"_touchEnd",value:function(t){for(var e=0,n=Array.from(t.changedTouches);e<n.length;e++){var i=n[e];this._triggerPointerEnd(new m(i),t)}}}]),t}(),g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElementNS("http://www.w3.org/2000/svg","svg");return{createMatrix:function(){return t.createSVGMatrix()},createPoint:function(){return t.createSVGPoint()}}},y="mur_skdsdfnm",E="amur_klndasd",x=".".concat(y,"{display:block;overflow:hidden;touch-action:none}.").concat(E,"{transform:translate(var(--x,0),var(--y,0)) scale3d(var(--scale,1));transform:translate3d(var(--x,0),var(--y,0),0) scale3d(var(--scale,1),var(--scale,1),1);transform-origin:0 0;will-change:transform}\n"),b=document.createElement("style");b.appendChild(document.createTextNode(x)),document.getElementsByTagName("head")[0].appendChild(b);var P=function(t){(0,s.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments))._root=(0,i.createRef)(),t._svg=g(),t._transform=t._svg.createMatrix(),t._unsubscribe=function(){},t._onWheel=function(e){e.preventDefault();var n=t.childBoundingClientRect,i=e.ctrlKey,r=e.deltaMode,o=e.deltaY;1===r&&(o*=15);var s=1-o/(i?100:300);t._applyChange({scaleDiff:s,originX:e.clientX-n.left,originY:e.clientY-n.top})},t}return(0,o.Z)(n,[{key:"x",get:function(){return this._transform.e}},{key:"y",get:function(){return this._transform.f}},{key:"scale",get:function(){return this._transform.a}},{key:"rootBoundingClientRect",get:function(){return this._root.current.getBoundingClientRect()}},{key:"childBoundingClientRect",get:function(){return this._root.current.children[0].getBoundingClientRect()}},{key:"componentDidMount",value:function(){var t=this,e=this._root.current,n=new _(e,{start:function(t,e){return 2!==n.currentPointers.length&&(e.preventDefault(),!0)},move:function(e){t._onPointerMove(e,n.currentPointers)}});e.addEventListener("wheel",this._onWheel),this._unsubscribe=function(){e.removeEventListener("wheel",t._onWheel),n.unsubscribe()}}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.Container,r=void 0===n?"div":n,o=(t.onTransform,function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["children","Container","onTransform"])),s=i.Children.only(e);return i.createElement(r,Object.assign({},o,{ref:this._root,className:p(y,o.className)}),(0,i.cloneElement)(s,{className:p(E,s.props.className)}))}},{key:"setTransform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,n=void 0===e?this.scale:e,i=t.x,r=void 0===i?this.x:i,o=t.y,s=void 0===o?this.y:o,a=this.rootBoundingClientRect,c=this.childBoundingClientRect;if(!a.width||!a.height)return this._updateTransform(n,r,s);var h=this._svg.createPoint();h.x=c.left-a.left,h.y=c.top-a.top;var u=this._svg.createPoint();u.x=c.width+h.x,u.y=c.height+h.y;var l=this._svg.createMatrix().translate(r,s).scale(n).multiply(this._transform.inverse());return h=h.matrixTransform(l),u=u.matrixTransform(l),h.x>a.width?r+=a.width-h.x:u.x<0&&(r+=-u.x),h.y>a.height?s+=a.height-h.y:u.y<0&&(s+=-u.y),this._updateTransform(n,r,s)}},{key:"_updateTransform",value:function(t,e,n){var i=this.props,r=i.minScale,o=void 0===r?.1:r,s=i.onTransform;t<o||t===this.scale&&e===this.x&&n===this.y||(this._transform.e=e,this._transform.f=n,this._transform.d=this._transform.a=t,s({x:this.x,y:this.y,scale:this.scale}))}},{key:"_onPointerMove",value:function(t,e){var n=this.childBoundingClientRect,i=v(t[0],t[1]),r=v(e[0],e[1]),o=i.clientX-n.left,s=i.clientY-n.top,a=d(t[0],t[1]),c=d(e[0],e[1]),h=a?c/a:1;this._applyChange({originX:o,originY:s,scaleDiff:h,panX:r.clientX-i.clientX,panY:r.clientY-i.clientY})}},{key:"_applyChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.panX,n=void 0===e?0:e,i=t.panY,r=void 0===i?0:i,o=t.originX,s=void 0===o?0:o,a=t.originY,c=void 0===a?0:a,h=t.scaleDiff,u=void 0===h?1:h,l=this._svg.createMatrix().translate(n,r).translate(s,c).translate(this.x,this.y).scale(u).translate(-s,-c).scale(this.scale);this.setTransform({x:l.e,y:l.f,scale:l.a})}},{key:"scaleTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.originX,i=void 0===n?0:n,r=e.originY,o=void 0===r?0:r,s=e.relativeTo,a=void 0===s?"content":s,c="content"===a,h=c?this.childBoundingClientRect:this.rootBoundingClientRect;if(i=f(i,h.width),o=f(o,h.height),c)i+=this.x,o+=this.y;else{var u=this.childBoundingClientRect;i-=u.left,o-=u.top}this._applyChange({originX:i,originY:o,scaleDiff:t/this.scale})}}]),n}(i.Component),k=P,w=n(80184),C=function(t){var e=(0,i.useRef)(null),n=(0,i.useCallback)((function(t){var n=t.x,i=t.y,r=t.scale;!function(t,e){var n=e.x,i=e.y,r=e.scale;t&&(t.style.setProperty("--x",n+"px"),t.style.setProperty("--y",i+"px"),t.style.setProperty("--scale",r+""))}(e.current,{x:n,y:i,scale:r})}),[]);return(0,w.jsx)("div",{className:"assets_modal_img_outer",children:(0,w.jsx)("div",{className:"assets_modal_img_wrapper",children:(0,w.jsx)(k,{onTransform:n,children:(0,w.jsx)("img",{ref:e,className:"assets_modal_media__",src:t.postFile,height:200,width:1200,alt:"ugc"})})})})}}}]);
//# sourceMappingURL=383.1dec5a10.chunk.js.map