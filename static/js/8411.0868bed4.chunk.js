"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[8411],{6697:function(e,t,i){i.d(t,{Z:function(){return v}});var r=i(15671),n=i(43144),o=i(97326),l=i(60136),s=i(29388),a=i(50732),u=i(97657),c=i(58620),p=i(11752),h=i(61120),d=function(e){(0,l.Z)(i,e);var t=(0,s.Z)(i);function i(){return(0,r.Z)(this,i),t.apply(this,arguments)}return(0,n.Z)(i,[{key:"toggleCheckbox",value:function(e,t){e.stopPropagation(),e.preventDefault(),t.custom.isSharedDrive||(0,p.Z)((0,h.Z)(i.prototype),"toggleCheckbox",this).call(this,e,t)}}]),i}(i(94362).h),f={strings:{pluginNameGoogleDrive:"Google Drive"}},v=function(e){(0,l.Z)(i,e);var t=(0,s.Z)(i);function i(e,n){var l;return(0,r.Z)(this,i),(l=t.call(this,e,n)).id=l.opts.id||"GoogleDrive",l.title=l.opts.title||"Google Drive",u.zt.initPlugin((0,o.Z)(l),n),l.title=l.opts.title||"Google Drive",l.icon=function(){return(0,c.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,c.h)("g",{fill:"none",fillRule:"evenodd"},(0,c.h)("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),(0,c.h)("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"})))},l.provider=new u.zt(e,{companionUrl:l.opts.companionUrl,companionHeaders:l.opts.companionHeaders,companionKeysParams:l.opts.companionKeysParams,companionCookiesRule:l.opts.companionCookiesRule,provider:"drive",pluginId:l.id}),l.defaultLocale=f,l.i18nInit(),l.title=l.i18n("pluginNameGoogleDrive"),l.onFirstRender=l.onFirstRender.bind((0,o.Z)(l)),l.render=l.render.bind((0,o.Z)(l)),l}return(0,n.Z)(i,[{key:"install",value:function(){this.view=new d(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}},{key:"render",value:function(e){return this.view.render(e)}}]),i}(a.di);v.VERSION="3.0.1"},9630:function(e,t,i){i.d(t,{Z:function(){return d}});var r=i(15671),n=i(43144),o=i(97326),l=i(60136),s=i(29388),a=i(58620),u=i(50732),c=i(97657),p=i(94362),h={strings:{pluginNameInstagram:"Instagram"}},d=function(e){(0,l.Z)(i,e);var t=(0,s.Z)(i);function i(e,n){var l;return(0,r.Z)(this,i),(l=t.call(this,e,n)).id=l.opts.id||"Instagram",c.zt.initPlugin((0,o.Z)(l),n),l.icon=function(){return(0,a.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,a.h)("g",{fill:"none",fillRule:"evenodd"},(0,a.h)("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),(0,a.h)("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})))},l.defaultLocale=h,l.i18nInit(),l.title=l.i18n("pluginNameInstagram"),l.provider=new c.zt(e,{companionUrl:l.opts.companionUrl,companionHeaders:l.opts.companionHeaders,companionKeysParams:l.opts.companionKeysParams,companionCookiesRule:l.opts.companionCookiesRule,provider:"instagram",pluginId:l.id}),l.onFirstRender=l.onFirstRender.bind((0,o.Z)(l)),l.render=l.render.bind((0,o.Z)(l)),l}return(0,n.Z)(i,[{key:"install",value:function(){this.view=new p.h(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}},{key:"render",value:function(e){return this.view.render(e)}}]),i}(u.di);d.VERSION="3.0.1"},94362:function(e,t,i){i.d(t,{h:function(){return V}});var r=i(74165),n=i(15861),o=i(1413),l=i(15671),s=i(43144),a=i(97326),u=i(60136),c=i(29388),p=i(58620);function h(){return(0,p.h)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},(0,p.h)("g",{fill:"none","fill-rule":"evenodd"},(0,p.h)("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),(0,p.h)("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),(0,p.h)("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),(0,p.h)("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),(0,p.h)("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),(0,p.h)("path",{d:"M4 4h18v18H4z"})))}var d=function(e){var t=e.pluginName,i=e.pluginIcon,r=e.i18nArray,n=e.handleAuth,o="Google Drive"===t,l=(0,p.h)("span",{className:"uppy-Provider-authTitleName"},t,(0,p.h)("br",null));return(0,p.h)("div",{className:"uppy-Provider-auth"},(0,p.h)("div",{className:"uppy-Provider-authIcon"},i()),(0,p.h)("div",{className:"uppy-Provider-authTitle"},r("authenticateWithTitle",{pluginName:l})),o?(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:n,"data-uppy-super-focusable":!0},(0,p.h)(h,null),r("signInWithGoogle")):(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:n,"data-uppy-super-focusable":!0},r("authenticateWith",{pluginName:t})))},f=function(e){var t=e.getFolder,i=e.title,r=e.isLast;return(0,p.h)(p.HY,null,(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:t},i),r?"":" / ")},v=function(e){var t=[];return e.showBreadcrumbs&&t.push(function(e){var t=e.getFolder,i=e.title,r=e.breadcrumbsIcon,n=e.directories;return(0,p.h)("div",{className:"uppy-Provider-breadcrumbs"},(0,p.h)("div",{className:"uppy-Provider-breadcrumbsIcon"},r),n.map((function(e,r){return(0,p.h)(f,{key:e.id,getFolder:function(){return t(e.id)},title:0===r?i:e.title,isLast:r+1===n.length})})))}({getFolder:e.getFolder,directories:e.directories,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title})),t.push(function(e){var t=e.i18n,i=e.logout,r=e.username;return[(0,p.h)("span",{className:"uppy-ProviderBrowser-user",key:"username"},r),(0,p.h)("button",{type:"button",onClick:i,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},t("logOut"))]}({logout:e.logout,username:e.username,i18n:e.i18n})),t},g=i(42982),m=i(81694),y=i(13377);function b(e){return(0,o.Z)((0,o.Z)({},e),{},{type:e.mimeType,extension:e.name?(0,y.Z)(e.name).extension:null})}var w=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(e){var r;return(0,l.Z)(this,i),(r=t.call(this,e)).preventEnterPress=r.preventEnterPress.bind((0,a.Z)(r)),r}return(0,s.Z)(i,[{key:"preventEnterPress",value:function(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault())}},{key:"render",value:function(){var e=this.props,t=e.i18n,i=e.filterInput,r=e.filterQuery;return(0,p.h)("div",{className:"uppy-ProviderBrowser-filter"},(0,p.h)("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:t("filter"),"aria-label":t("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:function(e){return r(e)},value:i}),(0,p.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,p.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),i&&(0,p.h)("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":t("resetFilter"),title:t("resetFilter"),onClick:r},(0,p.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},(0,p.h)("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}}]),i}(p.wA),k=function(e){var t=e.cancel,i=e.done,r=e.i18n,n=e.selected;return(0,p.h)("div",{className:"uppy-ProviderBrowser-footer"},(0,p.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:i,type:"button"},r("selectX",{smart_count:n})),(0,p.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t,type:"button"},r("cancel")))};function P(){return(0,p.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},(0,p.h)("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function F(){return(0,p.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},(0,p.h)("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function S(){return(0,p.h)("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},(0,p.h)("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),(0,p.h)("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}var Z=function(e){var t=e.itemIconString;if(null!==t)switch(t){case"file":return(0,p.h)(P,null);case"folder":return(0,p.h)(F,null);case"video":return(0,p.h)(S,null);default:var i=e.alt;return(0,p.h)("img",{src:t,alt:i})}};var I=function(e){var t=e.className,i=e.isDisabled,r=e.restrictionError,n=e.isChecked,o=e.title,l=e.itemIconEl,s=e.showTitles,a=e.toggleCheckbox,u=e.recordShiftKeyPress,c=e.id,h=e.children;return(0,p.h)("li",{className:t,title:i?null==r?void 0:r.message:null},(0,p.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(n?"uppy-ProviderBrowserItem-checkbox--is-checked":""," uppy-ProviderBrowserItem-checkbox--grid"),onChange:a,onKeyDown:u,name:"listitem",id:c,checked:n,disabled:i,"data-uppy-super-focusable":!0}),(0,p.h)("label",{htmlFor:c,"aria-label":o,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,p.h)("span",{className:"uppy-ProviderBrowserItem-inner-relative"},l,s&&o,h)))};var x=function(e){var t=e.className,i=e.isDisabled,r=e.restrictionError,n=e.isCheckboxDisabled,o=e.isChecked,l=e.toggleCheckbox,s=e.recordShiftKeyPress,a=e.type,u=e.id,c=e.itemIconEl,h=e.title,d=e.handleFolderClick,f=e.showTitles,v=e.i18n;return(0,p.h)("li",{className:t,title:i?null==r?void 0:r.message:null},n?null:(0,p.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(o?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:l,onKeyDown:s,name:"listitem",id:u,checked:o,"aria-label":"file"===a?null:v("allFilesFromFolderNamed",{name:h}),disabled:i,"data-uppy-super-focusable":!0}),"file"===a?(0,p.h)("label",{htmlFor:u,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,p.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),f&&h):(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:d,"aria-label":v("openFolderNamed",{name:h})},(0,p.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),f&&(0,p.h)("span",null,h)))};function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},C.apply(this,arguments)}var N=function(e){var t=e.author,i=e.getItemIcon,r=e.isChecked,n=e.isDisabled,o=e.viewType,l=i(),s=m("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":r},{"uppy-ProviderBrowserItem--disabled":n},{"uppy-ProviderBrowserItem--noPreview":"video"===l}),a=(0,p.h)(Z,{itemIconString:l});switch(o){case"grid":return(0,p.h)(I,C({},e,{className:s,itemIconEl:a}));case"list":return(0,p.h)(x,C({},e,{className:s,itemIconEl:a}));case"unsplash":return(0,p.h)(I,C({},e,{className:s,itemIconEl:a}),(0,p.h)("a",{href:"".concat(t.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},t.name));default:throw new Error("There is no such type ".concat(o))}};var B=function(e){var t=e.currentSelection,i=e.folders,r=e.files,n=e.uppyFiles,o=e.viewType,l=e.headerComponent,s=e.showBreadcrumbs,a=e.isChecked,u=e.toggleCheckbox,c=e.recordShiftKeyPress,h=e.handleScroll,d=e.showTitles,f=e.i18n,v=e.validateRestrictions,y=e.showFilter,P=e.filterQuery,F=e.filterInput,S=e.getNextFolder,Z=e.cancel,I=e.done,x=e.columns,C=t.length;return(0,p.h)("div",{className:m("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(o))},(0,p.h)("div",{className:"uppy-ProviderBrowser-header"},(0,p.h)("div",{className:m("uppy-ProviderBrowser-headerBar",!s&&"uppy-ProviderBrowser-headerBar--simple")},l)),y&&(0,p.h)(w,{i18n:f,filterQuery:P,filterInput:F}),i.length||r.length?(0,p.h)("div",{className:"uppy-ProviderBrowser-body"},(0,p.h)("ul",{className:"uppy-ProviderBrowser-list",onScroll:h,role:"listbox",tabIndex:"-1"},i.map((function(e){var t;return N({columns:x,showTitles:d,viewType:o,i18n:f,id:e.id,title:e.name,getItemIcon:function(){return e.icon},isChecked:a(e),toggleCheckbox:function(t){return u(t,e)},recordShiftKeyPress:c,type:"folder",isDisabled:null==(t=a(e))?void 0:t.loading,isCheckboxDisabled:"shared-with-me"===e.id,handleFolderClick:function(){return S(e)}})})),r.map((function(e){var i=v(b(e),[].concat((0,g.Z)(n),(0,g.Z)(t)));return N({id:e.id,title:e.name,author:e.author,getItemIcon:function(){return e.icon},isChecked:a(e),toggleCheckbox:function(t){return u(t,e)},recordShiftKeyPress:c,columns:x,showTitles:d,viewType:o,i18n:f,type:"file",isDisabled:i&&!a(e),restrictionError:i})})))):(0,p.h)("div",{className:"uppy-Provider-empty"},f("noFilesFound")),C>0&&(0,p.h)(k,{selected:C,done:I,cancel:Z,i18n:f}))},R=function(e){var t=e.i18n;return(0,p.h)("div",{className:"uppy-Provider-loading"},(0,p.h)("span",null,t("loading")))},T=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(){return(0,l.Z)(this,i),t.apply(this,arguments)}return(0,s.Z)(i,[{key:"componentWillUnmount",value:function(){(0,this.props.onUnmount)()}},{key:"render",value:function(){var e=this.props.children;return(0,p.bR)(e)[0]}}]),i}(p.wA),E=i(53700),z=i(65279),A=i(68594),H=i(37762),U=function(){function e(t){(0,l.Z)(this,e),this.plugin=t,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}return(0,s.Z)(e,[{key:"filterItems",value:function(e){var t=this.plugin.getPluginState();return t.filterInput&&""!==t.filterInput?e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.filterInput.toLowerCase())})):e}},{key:"recordShiftKeyPress",value:function(e){this.isShiftKeyPressed=e.shiftKey}},{key:"toggleCheckbox",value:function(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();var i=this.plugin.getPluginState(),r=i.folders,n=i.files,o=this.filterItems(r.concat(n));if(this.lastCheckbox&&this.isShiftKeyPressed){var l,s=o.indexOf(this.lastCheckbox),a=o.indexOf(t),u=s<a?o.slice(s,a+1):o.slice(a,s+1),c=[],p=(0,H.Z)(u);try{for(p.s();!(l=p.n()).done;){var h=l.value,d=this.plugin.uppy,f=d.validateRestrictions(b(h),[].concat((0,g.Z)(d.getFiles()),c));f?d.info({message:f.message},"error",d.opts.infoTimeout):c.push(h)}}catch(m){p.e(m)}finally{p.f()}this.plugin.setPluginState({currentSelection:c})}else{this.lastCheckbox=t;var v=this.plugin.getPluginState().currentSelection;this.isChecked(t)?this.plugin.setPluginState({currentSelection:v.filter((function(e){return e.id!==t.id}))}):this.plugin.setPluginState({currentSelection:v.concat([t])})}}},{key:"isChecked",value:function(e){return this.plugin.getPluginState().currentSelection.some((function(t){return t.id===e.id}))}},{key:"loaderWrapper",value:function(e,t,i){var r=this;e.then((function(e){r.plugin.setPluginState({loading:!1}),t(e)})).catch((function(e){r.plugin.setPluginState({loading:!1}),i(e)})),this.plugin.setPluginState({loading:!0})}}]),e}(),D=function(){function e(t,i){(0,l.Z)(this,e),this.plugin=t,this.provider=i.provider,this.sharedHandler=new U(t),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}return(0,s.Z)(e,[{key:"providerFileToId",value:function(e){return(0,A.Z)({data:e,name:e.name||e.id,type:e.mimetype})}},{key:"preFirstRender",value:function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function(e){var t=e.target;return t.scrollHeight-(t.scrollTop+t.offsetHeight)<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}},{key:"cancelPicking",value:function(){this.clearSelection();var e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}},{key:"handleError",value:function(e){var t=this.plugin.uppy,i=t.i18n("companionError");t.log(e.toString()),e.isAuthError||t.info({message:i,details:e.toString()},"error",5e3)}},{key:"addFile",value:function(e){var t={id:this.providerFileToId(e),source:this.plugin.id,data:e,name:e.name||e.id,type:e.mimeType,isRemote:!0,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(e.requestPath)),body:{fileId:e.id},providerOptions:this.provider.opts,providerName:this.provider.name}},i=(0,E.Z)(t);i&&(0,z.Z)(i)&&(t.preview=e.thumbnail),e.author&&(null!=e.author.name&&(t.meta.authorName=String(e.author.name)),e.author.url&&(t.meta.authorUrl=e.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(t),!0}catch(r){return r.isRestriction||this.plugin.uppy.log(r),!1}}}]),e}();function L(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var M=0;function O(e){return"__private_"+M+++"_"+e}function K(e){return"string"===typeof e?new RegExp("^".concat(e,"$")):e instanceof RegExp?e:void 0}var _=O("updateFilesAndFolders"),V=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(e,r){var n;(0,l.Z)(this,i),n=t.call(this,e,r),Object.defineProperty((0,a.Z)(n),_,{value:W});return n.opts=(0,o.Z)((0,o.Z)({},{viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0}),r),n.filterQuery=n.filterQuery.bind((0,a.Z)(n)),n.getFolder=n.getFolder.bind((0,a.Z)(n)),n.getNextFolder=n.getNextFolder.bind((0,a.Z)(n)),n.logout=n.logout.bind((0,a.Z)(n)),n.handleAuth=n.handleAuth.bind((0,a.Z)(n)),n.handleScroll=n.handleScroll.bind((0,a.Z)(n)),n.listAllFiles=n.listAllFiles.bind((0,a.Z)(n)),n.donePicking=n.donePicking.bind((0,a.Z)(n)),n.render=n.render.bind((0,a.Z)(n)),n.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),n}return(0,s.Z)(i,[{key:"tearDown",value:function(){}},{key:"getFolder",value:function(e,t){var i=this;return this.sharedHandler.loaderWrapper(this.provider.list(e),(function(r){var n,o=i.plugin.getPluginState(),l=o.directories.findIndex((function(t){return e===t.id}));n=-1!==l?o.directories.slice(0,l+1):o.directories.concat([{id:e,title:t}]),i.username=r.username||i.username,L(i,_)[_](r,[],[]),i.plugin.setPluginState({directories:n,filterInput:""})}),this.handleError)}},{key:"getNextFolder",value:function(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}},{key:"logout",value:function(){var e=this;this.provider.logout().then((function(t){if(t.ok){if(!t.revoked){var i=e.plugin.uppy.i18n("companionUnauthorizeHint",{provider:e.plugin.title,url:t.manual_revoke_url});e.plugin.uppy.info(i,"info",7e3)}e.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:""})}})).catch(this.handleError)}},{key:"filterQuery",value:function(e){var t=this.plugin.getPluginState();this.plugin.setPluginState((0,o.Z)((0,o.Z)({},t),{},{filterInput:e?e.target.value:""}))}},{key:"addFolder",value:function(e){var t=this,i=this.providerFileToId(e),r=(0,o.Z)({},this.plugin.getPluginState().selectedFolders);if(!(i in r)||!r[i].loading)return r[i]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:(0,o.Z)({},r)}),this.listAllFiles(e.requestPath).then((function(n){var o=0;n.forEach((function(e){var i=t.providerFileToId(e);t.plugin.uppy.checkIfFileAlreadyExists(i)||o++})),o>0&&n.forEach((function(e){return t.addFile(e)}));var l,s=n.map(t.providerFileToId);r[i]={loading:!1,files:s},t.plugin.setPluginState({selectedFolders:r,filterInput:""}),l=0===o?t.plugin.uppy.i18n("folderAlreadyAdded",{folder:e.name}):n.length?t.plugin.uppy.i18n("folderAdded",{smart_count:o,folder:e.name}):t.plugin.uppy.i18n("emptyFolderAdded"),t.plugin.uppy.info(l)})).catch((function(e){var r=(0,o.Z)({},t.plugin.getPluginState().selectedFolders);delete r[i],t.plugin.setPluginState({selectedFolders:r}),t.handleError(e)}))}},{key:"handleAuth",value:function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var t,n,o,l,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.ensurePreAuth();case 2:t=btoa(JSON.stringify({origin:location.origin})),n="@uppy/provider-views=".concat(i.VERSION),o=this.provider.authUrl({state:t,uppyVersions:n}),l=window.open(o,"_blank"),s=function e(t){if(t.source===l){var i,r;i=t.origin,r=a.plugin.opts.companionAllowedHosts,(Array.isArray(r)?r.map(K):[K(r)]).some((function(e){return(null==e?void 0:e.test(i))||(null==e?void 0:e.test("".concat(i,"/")))}))&&t.source===l||a.plugin.uppy.log("rejecting event from ".concat(t.origin," vs allowed pattern ").concat(a.plugin.opts.companionAllowedHosts));var n="string"===typeof t.data?JSON.parse(t.data):t.data;if(n.error){a.plugin.uppy.log("auth aborted","warning");var o=a.plugin.uppy,s=o.i18n("authAborted");o.info({message:s},"warning",5e3)}else n.token?(l.close(),window.removeEventListener("message",e),a.provider.setAuthToken(n.token),a.preFirstRender()):a.plugin.uppy.log("did not receive token from auth window","error")}else a.plugin.uppy.log("rejecting event from unknown source")},window.addEventListener("message",s);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleScroll",value:function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var i,n,o,l,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.nextPagePath||null,!this.shouldHandleScroll(t)||!i){e.next=17;break}return this.isHandlingScroll=!0,e.prev=3,e.next=6,this.provider.list(i);case 6:n=e.sent,o=this.plugin.getPluginState(),l=o.files,s=o.folders,L(this,_)[_](n,l,s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:return e.prev=14,this.isHandlingScroll=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"listAllFiles",value:function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t,i){var n,o,l=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=null),i=i||[],e.next=4,this.provider.list(t);case 4:if((n=e.sent).items.forEach((function(e){e.isFolder?l.addFolder(e):i.push(e)})),!(o=n.nextPagePath)){e.next=9;break}return e.abrupt("return",this.listAllFiles(o,i));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},{key:"donePicking",value:function(){var e=this,t=this.plugin.getPluginState().currentSelection.map((function(t){return t.isFolder?e.addFolder(t):e.addFile(t)}));this.sharedHandler.loaderWrapper(Promise.all(t),(function(){e.clearSelection()}),(function(){}))}},{key:"render",value:function(e,t){var i=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),n=r.authenticated;r.didFirstRender||this.preFirstRender();var l=(0,o.Z)((0,o.Z)({},this.opts),t),s=this.plugin.getPluginState(),a=s.files,u=s.folders,c=s.filterInput,h=s.loading,f=s.currentSelection,g=this.sharedHandler,m=g.isChecked,y=g.toggleCheckbox,b=g.recordShiftKeyPress,w=g.filterItems,k=""!==c,P={showBreadcrumbs:l.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},F={isChecked:m,toggleCheckbox:y,recordShiftKeyPress:b,currentSelection:f,files:k?w(a):a,folders:k?w(u):u,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:v(P),title:this.plugin.title,viewType:l.viewType,showTitles:l.showTitles,showFilter:l.showFilter,showBreadcrumbs:l.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=i.plugin.uppy).validateRestrictions.apply(e,arguments)}};return h?(0,p.h)(T,{onUnmount:this.clearSelection},(0,p.h)(R,{i18n:this.plugin.uppy.i18n})):n?(0,p.h)(T,{onUnmount:this.clearSelection},(0,p.h)(B,F)):(0,p.h)(T,{onUnmount:this.clearSelection},(0,p.h)(d,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}}]),i}(D);function W(e,t,i){this.nextPagePath=e.nextPagePath,e.items.forEach((function(e){e.isFolder?i.push(e):t.push(e)})),this.plugin.setPluginState({folders:i,files:t})}V.VERSION="3.0.2";var j=function(e){var t,i=e.i18n,r=e.search,n=function(){t.value&&r(t.value)};return(0,p.h)("div",{className:"uppy-SearchProvider"},(0,p.h)("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":i("enterTextToSearch"),placeholder:i("enterTextToSearch"),onKeyUp:function(e){13===e.keyCode&&n()},ref:function(e){t=e},"data-uppy-super-focusable":!0}),(0,p.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:n},i("searchImages")))},Q=function(e){var t=e.searchTerm,i=e.i18n,r=e.search;return(0,p.h)("div",{class:"uppy-ProviderBrowser-search"},(0,p.h)("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:i("search"),"aria-label":i("search"),value:t,onKeyUp:function(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),r(e.target.value))},"data-uppy-super-focusable":!0}),(0,p.h)("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,p.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))};function G(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var q=0;function J(e){return"__private_"+q+++"_"+e}var $=J("updateFilesAndInputMode"),X=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(e,r){var n;(0,l.Z)(this,i),n=t.call(this,e,r),Object.defineProperty((0,a.Z)(n),$,{value:Y});return n.opts=(0,o.Z)((0,o.Z)({},{viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1}),r),n.search=n.search.bind((0,a.Z)(n)),n.triggerSearchInput=n.triggerSearchInput.bind((0,a.Z)(n)),n.addFile=n.addFile.bind((0,a.Z)(n)),n.handleScroll=n.handleScroll.bind((0,a.Z)(n)),n.donePicking=n.donePicking.bind((0,a.Z)(n)),n.render=n.render.bind((0,a.Z)(n)),n.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null}),n}return(0,s.Z)(i,[{key:"tearDown",value:function(){}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})}},{key:"search",value:function(e){var t=this,i=this.plugin.getPluginState().searchTerm;if(!e||e!==i)return this.sharedHandler.loaderWrapper(this.provider.search(e),(function(e){G(t,$)[$](e,[])}),this.handleError)}},{key:"triggerSearchInput",value:function(){this.plugin.setPluginState({isInputMode:!0})}},{key:"handleScroll",value:function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var i,n,o,l,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.nextPageQuery||null,!this.shouldHandleScroll(t)||!i){e.next=17;break}return this.isHandlingScroll=!0,e.prev=3,n=this.plugin.getPluginState(),o=n.files,l=n.searchTerm,e.next=7,this.provider.search(l,i);case 7:s=e.sent,G(this,$)[$](s,o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:return e.prev=14,this.isHandlingScroll=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"donePicking",value:function(){var e=this,t=this.plugin.getPluginState().currentSelection.map((function(t){return e.addFile(t)}));this.sharedHandler.loaderWrapper(Promise.all(t),(function(){e.clearSelection()}),(function(){}))}},{key:"render",value:function(e,t){var i=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),n=r.didFirstRender,l=r.isInputMode,s=r.searchTerm;n||this.preFirstRender();var a=(0,o.Z)((0,o.Z)({},this.opts),t),u=this.plugin.getPluginState(),c=u.files,h=u.folders,d=u.filterInput,f=u.loading,v=u.currentSelection,g=this.sharedHandler,m=g.isChecked,y=g.toggleCheckbox,b=g.filterItems,w=""!==d,k={isChecked:m,toggleCheckbox:y,currentSelection:v,files:w?b(c):c,folders:w?b(h):h,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:Q({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:s}),title:this.plugin.title,viewType:a.viewType,showTitles:a.showTitles,showFilter:a.showFilter,showBreadcrumbs:a.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=i.plugin.uppy).validateRestrictions.apply(e,arguments)}};return f?(0,p.h)(T,{onUnmount:this.clearSelection},(0,p.h)(R,{i18n:this.plugin.uppy.i18n})):l?(0,p.h)(T,{onUnmount:this.clearSelection},(0,p.h)(j,{search:this.search,i18n:this.plugin.uppy.i18n})):(0,p.h)(T,{onUnmount:this.clearSelection},(0,p.h)(B,k))}}]),i}(D);function Y(e,t){this.nextPageQuery=e.nextPageQuery,e.items.forEach((function(e){t.push(e)})),this.plugin.setPluginState({isInputMode:!1,files:t,searchTerm:e.searchedFor})}X.VERSION="3.0.2"},53841:function(e,t,i){i.d(t,{Z:function(){return C}});var r=i(74165),n=i(15861),o=i(1413),l=i(15671),s=i(43144),a=i(97326),u=i(60136),c=i(29388),p=i(58620),h=i(50732),d=i(97657),f=i(66483);function v(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var g=0;function m(e){return"__private_"+g+++"_"+e}var y=m("handleKeyPress"),b=m("handleSubmit"),w=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(){var e;return(0,l.Z)(this,i),e=t.apply(this,arguments),Object.defineProperty((0,a.Z)(e),y,{writable:!0,value:function(t){13===t.keyCode&&v((0,a.Z)(e),b)[b]()}}),Object.defineProperty((0,a.Z)(e),b,{writable:!0,value:function(){(0,e.props.addFile)(e.input.value.trim())}}),e}return(0,s.Z)(i,[{key:"componentDidMount",value:function(){this.input.value=""}},{key:"render",value:function(){var e=this,t=this.props.i18n;return(0,p.h)("div",{className:"uppy-Url"},(0,p.h)("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":t("enterUrlToImport"),placeholder:t("enterUrlToImport"),onKeyUp:v(this,y)[y],ref:function(t){e.input=t},"data-uppy-super-focusable":!0}),(0,p.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:v(this,b)[b]},t("import")))}}]),i}(p.wA),k=w;function P(e,t,i){var r,n=(0,f.Z)(e.items);switch(t){case"paste":if(n.some((function(e){return"file"===e.kind})))return;r=n.filter((function(e){return"string"===e.kind&&"text/plain"===e.type}));break;case"drop":r=n.filter((function(e){return"string"===e.kind&&"text/uri-list"===e.type}));break;default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's ".concat(t))}r.forEach((function(e){e.getAsString((function(e){return i(e)}))}))}var F={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}};function S(){return(0,p.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,p.h)("g",{fill:"none",fillRule:"evenodd"},(0,p.h)("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),(0,p.h)("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}function Z(e){return/^[a-z0-9]+:\/\//.test(e)?e:"http://"+e}function I(e){if(!e)return!1;var t=e.match(/^([a-z0-9]+):\/\//)[1];return"http"===t||"https"===t}function x(e){var t=new URL(e).pathname;return t.substring(t.lastIndexOf("/")+1)}var C=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(e,r){var n;(0,l.Z)(this,i),(n=t.call(this,e,r)).id=n.opts.id||"Url",n.title=n.opts.title||"Link",n.type="acquirer",n.icon=function(){return(0,p.h)(S,null)},n.defaultLocale=F;if(n.opts=(0,o.Z)((0,o.Z)({},{}),r),n.i18nInit(),n.hostname=n.opts.companionUrl,!n.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return n.getMeta=n.getMeta.bind((0,a.Z)(n)),n.addFile=n.addFile.bind((0,a.Z)(n)),n.handleRootDrop=n.handleRootDrop.bind((0,a.Z)(n)),n.handleRootPaste=n.handleRootPaste.bind((0,a.Z)(n)),n.client=new d.C$(e,{companionUrl:n.opts.companionUrl,companionHeaders:n.opts.companionHeaders,companionCookiesRule:n.opts.companionCookiesRule}),n}return(0,s.Z)(i,[{key:"getMeta",value:function(e){var t=this;return this.client.post("url/meta",{url:e}).then((function(e){if(e.error)throw t.uppy.log("[URL] Error:"),t.uppy.log(e.error),new Error("Failed to fetch the file");return e}))}},{key:"addFile",value:function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t,i){var n,o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=void 0),I(n=Z(t))){e.next=6;break}return this.uppy.log("[URL] Incorrect URL entered: ".concat(n)),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3),e.abrupt("return",void 0);case 6:return e.prev=6,e.next=9,this.getMeta(n);case 9:return o=e.sent,l={meta:i,source:this.id,name:x(n),type:o.type,data:{size:o.size},isRemote:!0,body:{url:n},remote:{companionUrl:this.opts.companionUrl,url:"".concat(this.hostname,"/url/get"),body:{fileId:n,url:n},providerOptions:this.client.opts}},this.uppy.log("[Url] Adding remote file"),e.prev=12,e.abrupt("return",this.uppy.addFile(l));case 16:return e.prev=16,e.t0=e.catch(12),e.t0.isRestriction||this.uppy.log(e.t0),e.abrupt("return",e.t0);case 20:e.next=27;break;case 22:return e.prev=22,e.t1=e.catch(6),this.uppy.log(e.t1),this.uppy.info({message:this.i18n("failedToFetch"),details:e.t1},"error",4e3),e.abrupt("return",e.t1);case 27:case"end":return e.stop()}}),e,this,[[6,22],[12,16]])})));return function(t,i){return e.apply(this,arguments)}}()},{key:"handleRootDrop",value:function(e){var t=this;P(e.dataTransfer,"drop",(function(e){t.uppy.log("[URL] Adding file from dropped url: ".concat(e)),t.addFile(e)}))}},{key:"handleRootPaste",value:function(e){var t=this;P(e.clipboardData,"paste",(function(e){t.uppy.log("[URL] Adding file from pasted url: ".concat(e)),t.addFile(e)}))}},{key:"render",value:function(){return(0,p.h)(k,{i18n:this.i18n,addFile:this.addFile})}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}]),i}(h.di);C.VERSION="3.1.0",C.prototype.canHandleRootDrop=function(e){return(0,f.Z)(e.dataTransfer.items).filter((function(e){return"string"===e.kind&&"text/uri-list"===e.type})).length>0}}}]);
//# sourceMappingURL=8411.0868bed4.chunk.js.map